# Проект "Блокировка доступа через hosts"

## Описание
Этот проект предназначен для блокировки доступа к порнографическим ресурсам путем модификации системного файла `hosts`. Скрипт заменяет IP-адреса целевых сайтов на другой (например, локальный `127.0.0.1`), перенаправляя запросы и effectively блокируя доступ.

Скрипт поддерживает работу на Windows, macOS и Linux, а также включает функции:
- Резервное копирование оригинального файла `hosts`.
- Замена содержимого файла `hosts` на указанный пользователем.
- Защита файла от редактирования и удаления.

## Как работает
1. Скрипт проверяет права администратора/суперпользователя.
2. Делает резервную копию файла `hosts`.
3. Подменяет содержимое файла `hosts` на предоставленный локальный файл с блокирующими записями.
4. Устанавливает защиту файла, чтобы предотвратить его изменение.

Пример записи в файле `hosts` для блокировки сайта:
```
127.0.0.1   example-porn-site.com
127.0.0.1   another-porn-site.com
```

После такой записи запросы к указанным доменам будут перенаправляться на локальный адрес (или другой указанный IP), что блокирует доступ к ресурсу.

## Установка и запуск

### Требования
- Python 3.x
- Права администратора/суперпользователя

### Установка
1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/Otherwolf/block_porn.git
   ```

### Запуск
1. Запустите скрипт с правами администратора:
   - **Windows**: Откройте PowerShell с правами администратора и выполните:
     ```powershell
     python main.py
     ```
   - **Linux/macOS**: Используйте:
     ```bash
     sudo python3 main.py
     ```
2. Следуйте инструкциям скрипта.

## Как снять защиту файла
Если потребуется вернуть оригинальный файл или снять защиту, выполните следующие действия:

### Windows
1. Снимите защиту:
   ```cmd
   attrib -R -S -H C:\Windows\System32\drivers\etc\hosts
   ```
2. Верните резервную копию:
   ```cmd
   copy C:\Windows\System32\drivers\etc\hosts.bak C:\Windows\System32\drivers\etc\hosts
   ```

### Linux/macOS
1. Снимите защиту:
   ```bash
   sudo chattr -i /etc/hosts
   ```
2. Верните резервную копию:
   ```bash
   sudo cp /etc/hosts.bak /etc/hosts
   ```

## Особенности для каждой ОС
- **Windows**: Использует команду `attrib` для защиты файла.
- **Linux**: Использует команду `chattr` (необходима утилита `e2fsprogs`).
- **macOS**: Использует команды `chmod` и `chflags` для защиты файла.

## Важные замечания
- Будьте осторожны при работе с системным файлом `hosts`, так как его некорректное изменение может привести к сбоям в работе сети.
- Скрипт предназначен исключительно для личного использования в образовательных целях.

## Лицензия
Проект распространяется под лицензией MIT. Используйте на свой страх и риск.
